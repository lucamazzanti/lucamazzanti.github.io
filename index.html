<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.76.5"><title>maz.io</title><meta name=description content=".NET Developer"><meta itemprop=name content="maz.io"><meta itemprop=description content=".NET Developer"><meta name=twitter:card content="summary"><meta name=twitter:title content="maz.io"><meta name=twitter:description content=".NET Developer"><meta property="og:title" content="maz.io"><meta property="og:description" content=".NET Developer"><meta property="og:type" content="website"><meta property="og:url" content="https://lucamazzanti.github.io/"><meta property="og:updated_time" content="2020-12-07T23:00:00+00:00"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://lucamazzanti.github.io#author","name":"Luca Mazzanti","image":{"@type":"ImageObject","url":"https://lucamazzanti.github.io/images/netcore.svg"},"description":".NET Developer"},{"@type":"WebSite","@id":"https://lucamazzanti.github.io#website","url":"https://lucamazzanti.github.io","name":"maz.io","description":".NET Developer","publisher":{"@id":"https://lucamazzanti.github.io#author"},"inLanguage":"en"},{"@type":"WebPage","@id":"https://lucamazzanti.github.io/#webpage","url":"https://lucamazzanti.github.io/","name":"maz.io","isPartOf":{"@id":"https://lucamazzanti.github.io#website"},"about":{"@id":"https://lucamazzanti.github.io#author"},"dateModified":"2020-12-07T23:00:00+00:00","description":".NET Developer","inLanguage":"en","potentialAction":[{"@type":"ReadAction","target":["https://lucamazzanti.github.io/"]}]}]}</script><link type=text/css rel=stylesheet href=/css/print.css media=print><link type=text/css rel=stylesheet href=/css/poole.css><link type=text/css rel=stylesheet href=/css/hyde.css><style type=text/css>.sidebar{background-color:#5c2d91}.read-more-link a{border-color:#5c2d91}.pagination li a{color:#5c2d91;border:1px solid #5c2d91}.pagination li.active a{background-color:#5c2d91}.pagination li a:hover{background-color:#5c2d91;opacity:.75}footer a,.content a,.related-posts li a:hover{color:#5c2d91}</style><link type=text/css rel=stylesheet href=/css/blog.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700&display=swap"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin=anonymous><link rel=apple-touch-icon-precomposed sizes=144x144 href=/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/favicon.png><link href=https://lucamazzanti.github.io/index.xml rel=alternate type=application/rss+xml title=maz.io></head><body><aside class=sidebar><div class=container><div class=sidebar-about><div class=author-image><img src=/images/netcore.svg class="img-circle img-headshot center" alt="Profile Picture"></div><h1>maz.io</h1><p class=lead>.NET Developer</p></div><nav><ul class=sidebar-nav><li><a href=https://lucamazzanti.github.io>Home</a></li><li><a href=/about/>About</a></li><li><a href=/posts/>Posts</a></li></ul></nav><section class=social-icons><a href=mailto:lucamazzanti83@gmail.com rel=me title=Gmail target=_blank><i class="fab fa-google" aria-hidden=true></i></a><a href=https://www.linkedin.com/in/lucamazzanti/ rel=me title=Linkedin target=_blank><i class="fab fa-linkedin" aria-hidden=true></i></a><a href=https://github.com/lucamazzanti rel=me title=GitHub target=_blank><i class="fab fa-github" aria-hidden=true></i></a></section></div></aside><main class="content container"><div class=posts><article class=post style=margin-bottom:4em><h1 class=post-title><a href=https://lucamazzanti.github.io/post/works-in-progress/>Works in progress</a></h1><div class=post-date><time datetime=2020-12-07T23:00:00Z>Dec 7, 2020</time> &#183; 1 min read</div><div><p>Working on</p><ul><li>Coding interview<div class=progress-bar><span class=bar><span class=progress style=width:100%></span></span></div></li><li>Design systems interview<div class=progress-bar><span class=bar><span class=progress style=width:75%></span></span></div></li><li><a href=https://www.udemy.com/course/complete-linux-training-course-to-get-your-dream-it-job/>Complete Linux Training Course to Get Your Dream IT Job 2020</a><div class=progress-bar><span class=bar><span class=progress style=width:25%></span></span></div></li><li><a href="https://www.amazon.it/s?k=9781839216572">Mastering Docker - Fourth Edition</a><div class=progress-bar><span class=bar><span class=progress style=width:15%></span></span></div></li></ul></div></article><article class=post style=margin-bottom:4em><h1 class=post-title><a href=https://lucamazzanti.github.io/post/live-course-review-introduction-to-encryption/>Introduction to encryption by Michael Pound</a></h1><div class=post-date><time datetime=2020-11-07T18:00:00Z>Nov 7, 2020</time> &#183; 7 min read</div><div><p>This is the first review I do about courses or lectures, they are mostly notes and personal considerations I hope you like it. I start with a live course from <a href=https://learning.oreilly.com/>O&rsquo;Reilly learing platform</a> that I really appreciate, there are a lot of courses taken by famous people, try it if you can.</p><ul><li><strong>Course</strong>: Introduction to encryption. A hands-on course on applying symmetric and asymmetric encryption.</li><li><strong>Relator</strong>: Michael Pound</li><li><strong>Publisher</strong>: O&rsquo;Reilly live online training</li><li><strong>Duration</strong>: 3 hours</li></ul><p>Michael is a regular contributor to the popular YouTube channel Computerphile, where his videos on topics such as image analysis, machine learning, and computer security have accumulated over 30 million views from people all over the world.</p><h4 id=course-contents>Course contents</h4><ul><li>The power of XOR, the One Time Pad</li><li>Symmetric criptography<ul><li>Stream ciphers</li><li>Block ciphers</li></ul></li><li>Asymmetric criptography<ul><li>Key exchange with Diffie-Hellman</li><li>RSA, DSA</li></ul></li><li>Hash functions</li><li>Digital signature</li><li>Digital certificates: issuance, CA, chain of trust</li><li>Protocols<ul><li>authenticated encryption AEAD</li><li>handshake</li><li>SSL/TLS (HTTPS)</li></ul></li></ul><h1 id=extracts-and-notes>Extracts and notes</h1><p>Here are some extracts and insights on the main topics.</p><h2 id=introduction-to-encryption>Introduction to encryption</h2><p>In his introduction to encryption he talks about the power of the operator <strong>XOR</strong>.</p><blockquote><p>XOR is a binary operator between two values that returns true if either one input or the other is true, but not both</p></blockquote><figure><img src=/uploads/introduction-encryption/2020-11-07-12_05_07-introductiontoencryption1598382696016-pdf-adobe-acrobat-reader-dc.png width=500px></figure><p>Applying XOR twice reverse its effects: A ⊕ B ⊕ A = B</p><p><strong>One Time Pad</strong> encryption use it as a bit mask with a one time password of the same length.</p><figure><img src=/uploads/introduction-encryption/main-qimg-ebedf431c26489398e4e20fb943f88d0.gif width=500px></figure><h2 id=symmetric-cryptography>Symmetric cryptography</h2><p>In symmetric cryptography the same key is used to encrypt and decrypt.</p><p>There are two typologies: stream cyphers and block cypers.</p><h3 id=stream-cyphers>Stream cyphers</h3><p>In stream cyphers you can encrypt long continuos streams. In a stream cipher, keys and algorithm are applied to each binary digit in a data stream, one bit at a time, rather than encrypting block of data.</p><p>The implementation is simple: each bit of the input is XORed with a one time bit key genereated from a pseudo random generator. A short password is used as a seed. &ldquo;Pseudo random&rdquo; means that it seems random but with the same seed it generates the same series of values. If the key stream output is random, then it will take a longer time for a crypt analyst to break it.</p><figure><img src=/uploads/introduction-encryption/eyaze.png width=500px></figure><p>It is useful for movies because you can seek to any localtion of the stream and for devices where hardware AES acceleration is not available. An example of stream cypher is ChaCha20.</p><h3 id=block-cyphers>Block cyphers</h3><p>A block cypher takes a block of plain text bits and generates a block of cipher text bits, generally of same size. The size of block is fixed in the given scheme. The choice of block size does not directly affect to the strength of encryption scheme. The strength of cipher depends up on the key length.</p><p>Other primitives related treated are IVs, padding and block modes (ECB, CBC, CTR).</p><figure><img src=/uploads/introduction-encryption/5eqljmz.jpg width=300px></figure><p>Here a simple explanation of how <strong>AES</strong> (Advanced Encryption Standard) works from his channel:</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/O4xNJsjtN6E style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h2 id=asymmetric-cryptography>Asymmetric cryptography</h2><p>In asymmetric cryptography there are two keys envolved: a private and a public. You use the public key of the recipient to encrypt the message; only him can decrypt it with his private key.</p><h3 id=rsa>RSA</h3><p>RSA algorithm si used for generate public-private key pair. The keys <em>(e, n)</em> and <em>(d)</em> are reversible: either can be used for encryption, and the other used for decryption.</p><p>This leads us to two very useful use cases for RSA:</p><ol><li>Encryption only the owner can read</li><li>Signing that must have been performed by the owner</li></ol><h3 id=pemder-formats>PEM/DER formats</h3><p>When we generate the keys the generate files will contains data like this:</p><blockquote><p>&mdash;&ndash;BEGIN PRIVATE KEY&mdash;&ndash;<br>MIIEczCCA1ugA..AkGA1UEBhMCR0Ix<br>EzARBgNVBAgTC..0EgTHRkMTcwNQYD<br>&mldr;&mldr;<br>It8una2gY4l2O..adsGeFKkyNrwGi/<br>7vQMfXdGsRrXN..HoX<br>-&mdash;-END CERTIFICATE&mdash;&ndash;</p></blockquote><p>This format called PEM format is a text representation of the real binary key in DER format. We could store the binary version of the file only with <em>DER</em> encoding, but the most common way is the PEM version.</p><h3 id=diffie-hellman>Diffie-Hellman</h3><p>The Diffie–Hellman key exchange method allows two parties that have no prior knowledge of each other to jointly establish a shared secret key over an insecure channel. This key can then be used to encrypt subsequent communications using a symmetric key cipher.</p><p>Here two videos from his channel explaining Diffie-Hellman and the mathematics envolved</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/NmM9HA2MQGI style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/Yjrfm_oRO0w style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h2 id=hash-functions>Hash functions</h2><p>A hash function (in particular in cryptography) is any function that can be used to map data of arbitrary size to fixed-size values.</p><p>There are main characteristics of a good hash function:</p><ol><li>Deterministic: the same message always results in the same hash;</li><li>Quick: it is quick to compute the hash value for any given message;</li><li>One-way function: it is infeasible to generate a message from its hash value except by trying all possible messages;</li><li>Avalanche effect: a small change to a message should change the hash value so extensively that the new hash value appears uncorrelated with the old hash value;</li><li>Collision resistant: it is infeasible to find two different messages with the same hash value</li></ol><p>Examples: MD5, SHA-1, SHA-2, SHA-3.</p><p>MD5 and SHA1 has been demoted from being a cryptographic hash function to a non-cryptographic hash function now.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/DMtFhACPnTY style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h2 id=digital-signature>Digital signature</h2><p>When a signer electronically signs a document, the signature is created using the signer’s private key on the document hash. The resulting encrypted data is the digital signature. Who receives the document also receives a copy of the public key. If the public key can’t decrypt the signature is then considered invalid. The signature is also marked with the time that the document was signed. If the document changes after signing, the digital signature is invalidated.</p><figure><img src=/uploads/introduction-encryption/dwg_digital_signature_overview.png width=400px></figure><p>Digital signatures use a standard format called <strong>PKI</strong>.</p><h2 id=public-key-infrastructure>Public Key Infrastructure</h2><p>The PKI is the infrastructure that the industry created to manage the digital identities. The PKI created a hierarchical body of many organizations which their role is to issue digital identies. These organizations called Certificate Authority (<strong>CA</strong>) make sure that you are a legitimate company, and you are who you want to claim you are.</p><figure><img src=/uploads/introduction-encryption/certificate-chain-of-trust-sep-02-2020-08-15-33-48-pm-1.png width=500px></figure><p>When you visit a website via a secure connection, the site sends a <strong>digital certificate</strong> to your browser. Your Internet browser compares the issuer with a list of trusted Certificate Authorities. If a match can’t be found, the client browser checks to see whether a trusted Root CA signs the issuing CA certificate. The browser&rsquo;s chaining engine continues verifying the issuer of each certificate until it finds a trusted root or upon reaching the end of the <strong>trust chain</strong>.</p><figure><img src=/uploads/introduction-encryption/certificate-chain-of-trust-sep-02-2020-08-15-34-33-pm.png width=500px></figure><h2 id=digital-certificate>Digital Certificate</h2><p>SSL required the web server to have public key, and a digital identity, to give to the browsers. The industry decided to combine these two in one file, which is called : digital certificate, or SSL certificate. PKI policies defined the format for this certificate in a standard called <strong>X.509</strong> that contains:</p><ul><li>Serial Number</li><li>Signature Algorithm ID</li><li>Issuer Name</li><li>Validity period</li><li>Subject name</li><li>Public Key Algorithm</li><li>Subject Public Key</li><li>Certificate Signature Algorithm</li><li>Certificate Signature</li><li>&mldr;</li></ul><h2 id=transport-layer-security-ssltls>Transport Layer Security SSL/TLS</h2><p>SSL is the standard protocol to secure the communication between a web server and a browser, by creating an encrypted link between the two.</p><p>When a browser hits the web server using the <strong><em>HTTPS</em></strong> protocol, it start the process. At the beginning, the encryption used is public-key encryption, which is an asymmetric type encryption. The web server has a couple of keys public and private. It sends the public key to the browsers, and the browsers use the public key to encrypt the communications later. Only the web server can know how to decrypt the communication. Because the public key decryption is slow and expensive, so the web server and the browser will switch to symmetric encryption where only one key is required. They negotiate between each other on what the best encryption algorithm they should use. The algorithm used would depend on the server and the browser. This negotiation phase is called <strong>TLS handshake</strong>.</p><figure><img src=/uploads/introduction-encryption/2020-11-07-18_16_55-introductiontoencryption1598382696016-pdf-adobe-acrobat-reader-dc.png width=500px></figure><ol><li>The Handshake Phase<ul><li>Agree on a set of cryptographic protocols, e.g. AES 128, ECDH, RSA etc.</li><li>Perform a key exchange to obtain session keys and other values</li><li>Verify any authenticity using PKI</li></ul></li><li>Transport Phase<ul><li>Packets encrypted using the agreed cipher</li><li>Includes a MAC or similar to verify integrity</li></ul></li></ol><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/0TLDTodL7Lc style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/86cQJ0MMses style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h1 id=review>Review</h1><p>I really appreciate this course, Mike Pound is an excellent speaker and he deals with those complex topics in such a simple way. In this three hour course he walks you through the fundamental components of encryption and in the end he combine those multiple primitives into an entire end-to-end system.</p><div class=rating><span class="fa fa-star" style=color:orange></span><span class="fa fa-star" style=color:orange></span><span class="fa fa-star" style=color:orange></span><span class="fa fa-star" style=color:orange></span><span class="fa fa-star"></span></div></div></article><article class=post style=margin-bottom:4em><h1 class=post-title><a href=https://lucamazzanti.github.io/post/deploy-hugo-using-github-actions/>Set up a static website with Hugo, Forestry and GitHub Pages</a></h1><div class=post-date><time datetime=2020-10-24T14:00:00Z>Oct 24, 2020</time> &#183; 3 min read</div><div><p>I&rsquo;m moving a private knowledge base powered by WordPress to a public blog so I seized the opportunity to study a static site generator like <a href=https://jekyllrb.com>Jekyll</a>.</p><h4 id=the-generator-hugo>The generator: Hugo</h4><p>I chose <a href=https://gohugo.io/>Hugo</a> one of the most popular generators, it&rsquo;s really simple to use and to extend. Just download the CLI and run it in an empty folder and it will scaffold a basic site structure.</p><pre><code>hugo new site quickstart
</code></pre><p>Then it&rsquo;s time to download a theme, put it in the <em>themes</em> folder and set the config.toml file. I choose a theme named <a href=https://github.com/alexandrevicenzi/soho>Soho</a>.</p><p><img src=/uploads/screenshot-soho_hu184257ff17e4a0e38cca784bc2936c0c_113451_750x500_fill_catmullrom_top_2.png alt title="Soho theme"></p><p>To keep the theme updated I&rsquo;m going to use a submodule as recommented by the quick start guide.</p><pre><code>git submodule add https://github.com/alexandrevicenzi/soho.git themes/soho
</code></pre><p>Each theme has a lot of customizations that you can enable in the config.toml file.</p><h4 id=the-editor-forestry>The editor: Forestry</h4><p>To manage contents in a web interface it comes in our aid <a href=https://forestry.io>Forestry.io</a>: it reads data from a repository and let you edit pages easily, then it pushes back the changes keeping all synchronized.</p><p><img src=/uploads/3b31b28e29bc969283474fa432d038516e1e137f.jpg alt title="Forestry editor"></p><h4 id=the-hosting-github-pages>The hosting: GitHub Pages</h4><p><a href=https://pages.github.com>GitHub Pages</a> offers a static site hosting service for free available at <em>https://&lt;username>.github.io</em>. Content is read from the master root folder of a special public repository under <em>https://&lt;username>/&lt;username>.github.io</em>.</p><p>I&rsquo;m going to use two different repositories:</p><ul><li>one private where manage my contents and build the web site</li><li>one public to host the generated web site</li></ul><p>Every time I make a change on the private repository, I must commit on it, build the web site and then publish all the content to the public repository. This can be done in two ways: using <em>git submodules</em> or using <em>GitHub Actions</em> to automate the deploy; let&rsquo;s try the second choice.</p><p>I&rsquo;m gonna use an available action <a href=https://github.com/marketplace/actions/hugo-setup>here</a> to set up a CD workflow:</p><pre><code>name: publish
# on every commit in the master branch
on:  
  push:
    branches: [ master ]
jobs:
  # it starts a job named build
  build:
    runs-on: ubuntu-latest
    steps:
      # it checkout the master branch and init/update the submodules (the themes)
      - uses: actions/checkout@v2
        with:
          submodules: true
          fetch-depth: 0
      # it prepares the hugo command line on ubuntu
      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v2
        with:
          hugo-version: '0.76.5'
      # it builds the contents
      - name: Build
        run: hugo --minify
      # it deploys the build on another repository
      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        #docs: https://github.com/peaceiris/actions-gh-pages
        with:
          personal_token: ${{ secrets.PERSONAL_TOKEN }}
          publish_dir: ./public
          external_repository: &lt;username&gt;/&lt;username&gt;.github.io
          user_name: &lt;username&gt;
          publish_branch: master
</code></pre><p>This task runs at every push:</p><ol><li>prepare an ubuntu OS</li><li>checkout the code</li><li>setup the right version of Hugo CLI</li><li>build the web site in a destination folder</li><li>publish the result in the public repository with the static hosting service enabled</li></ol><p>Here&rsquo;s an example of the workflow running:</p><p><img src=/uploads/2020-10-25-18_12_14-impostazioni.png alt title="deploy workflow"></p><p>Both repositories are under the same user so you can use a <a href=https://github.com/settings/tokens/new>personal token</a> to share permissions across them (another way is to use a deploy key).</p><p><img src=/uploads/2020-10-26-17_12_51-new-personal-access-token.png alt title="the personal token"></p><p>You must generate it and put the generated hash in the private repository secrets store so you can use it during the build like in the script example above.</p><p><img src=/uploads/2020-10-26-17_15_13-secrets.png alt title="the private repository secret"></p><p>Now you can manage locally a simple markdown file and push it or you can do that online in a rich editor like Forestry and in a few seconds is available online.</p><p><img src=/uploads/aa.png alt></p></div></article></main><footer><div><p>&copy; Luca Mazzanti 2020
&#183; <a href=https://creativecommons.org/licenses/by-sa/4.0 target=_blank>CC BY-SA 4.0</a>
&#183; Build with <a href=https://gohugo.io/ target=_blank>Hugo</a> & <a href=https://themes.gohugo.io/soho/ target=_blank>Soho</a> theme</p></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0=" crossorigin=anonymous></script><script src=/js/jquery.min.js></script><script src=/js/soho.js></script><script src=/js/blog.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-181063409-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>